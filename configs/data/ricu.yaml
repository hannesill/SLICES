# RICU Data Configuration
#
# For datasets extracted via the RICU R package. RICU handles concept lookup,
# unit harmonization, hourly binning, and gap filling across ICU datasets.
#
# Data paths are auto-resolved from the top-level `dataset` field:
#   dataset=miiv  -> data/ricu_output/miiv, data/processed/miiv
#   dataset=eicu  -> data/ricu_output/eicu, data/processed/eicu
#
# Pipeline flow:
#   1. Rscript scripts/preprocessing/extract_with_ricu.R --dataset miiv
#   2. uv run python scripts/preprocessing/extract_ricu.py dataset=miiv
#   3. uv run python scripts/preprocessing/prepare_dataset.py dataset=miiv
#   4. uv run python scripts/training/pretrain.py dataset=miiv ssl=mae

name: ricu

# =============================================================================
# DATA PATHS (auto-resolved from top-level dataset field)
# =============================================================================

# Path to RICU parquet output (produced by extract_with_ricu.R)
ricu_output_dir: data/ricu_output/${..dataset}

# Path to processed/extracted features (output of extraction, input for training)
processed_dir: data/processed/${..dataset}

# Parquet root is set to ricu_output_dir (used by ExtractorConfig)
parquet_root: ${.ricu_output_dir}

# =============================================================================
# EXTRACTION SETTINGS
# =============================================================================

# Feature set label (stored in metadata; actual features come from RICU)
feature_set: core

# Feature categories (not used by RICU extractor, kept for config compatibility)
categories: null

# Tasks to extract labels for
tasks:
  - mortality_24h
  - mortality_hospital
  - aki_kdigo
  - los_remaining

# =============================================================================
# TRAINING DATA LOADING
# =============================================================================

# DataLoader settings
num_workers: 4
