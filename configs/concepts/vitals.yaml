# Vitals: High-frequency bedside measurements
# 15 features from chartevents
# Includes cardiovascular, respiratory, neurological, and temperature monitoring

# =============================================================================
# Cardiovascular (5)
# =============================================================================

heart_rate:
  description: Heart rate
  units: bpm
  min: 0
  max: 300
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220045]
      value_col: valuenum
      time_col: charttime

sbp:
  description: Systolic blood pressure (arterial and non-invasive)
  units: mmHg
  min: 0
  max: 300
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220050, 220179]  # Arterial BP Systolic, Non-Invasive BP Systolic
      value_col: valuenum
      time_col: charttime

dbp:
  description: Diastolic blood pressure (arterial and non-invasive)
  units: mmHg
  min: 0
  max: 200
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220051, 220180]  # Arterial BP Diastolic, Non-Invasive BP Diastolic
      value_col: valuenum
      time_col: charttime

map:
  description: Mean arterial pressure
  units: mmHg
  min: 0
  max: 250
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220052, 220181, 225312]  # Arterial BP Mean, Non-Invasive BP Mean, ART BP Mean
      value_col: valuenum
      time_col: charttime

cvp:
  description: Central venous pressure
  units: mmHg
  min: 0
  max: 30
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220074]
      value_col: valuenum
      time_col: charttime

# =============================================================================
# Respiratory (4)
# =============================================================================

resp_rate:
  description: Respiratory rate
  units: breaths/min
  min: 0
  max: 120
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220210, 224690]  # Respiratory Rate, Respiratory Rate (Total)
      value_col: valuenum
      time_col: charttime

spo2:
  description: Oxygen saturation (pulse oximetry)
  units: "%"
  min: 50
  max: 100
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220277]
      value_col: valuenum
      time_col: charttime

fio2:
  description: Fraction of inspired oxygen
  units: fraction
  min: 0.21
  max: 1.0
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [223835]
      value_col: valuenum
      time_col: charttime
      transform: percent_to_fraction

peep:
  description: Positive end-expiratory pressure
  units: cmH2O
  min: 0
  max: 30
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220339]
      value_col: valuenum
      time_col: charttime

# =============================================================================
# Neurological (4)
# =============================================================================

gcs_eye:
  description: Glasgow Coma Scale - Eye Opening
  units: score
  min: 1
  max: 4
  aggregation: last
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [220739]
      value_col: valuenum
      time_col: charttime

gcs_verbal:
  description: Glasgow Coma Scale - Verbal Response
  units: score
  min: 1
  max: 5
  aggregation: last
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [223900]
      value_col: valuenum
      time_col: charttime

gcs_motor:
  description: Glasgow Coma Scale - Motor Response
  units: score
  min: 1
  max: 6
  aggregation: last
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [223901]
      value_col: valuenum
      time_col: charttime

rass:
  description: Richmond Agitation-Sedation Scale
  units: score
  min: -5
  max: 4
  aggregation: last
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [228096]
      value_col: valuenum
      time_col: charttime

# =============================================================================
# Temperature & Glucose (2)
# =============================================================================

temperature:
  description: Body temperature
  units: celsius
  min: 32
  max: 42
  mimic_iv:
    # Fahrenheit - needs conversion
    - table: chartevents
      type: itemid
      itemid: [223761]
      value_col: valuenum
      time_col: charttime
      transform: fahrenheit_to_celsius
    # Celsius - no conversion needed
    - table: chartevents
      type: itemid
      itemid: [223762]
      value_col: valuenum
      time_col: charttime

glucose_fingerstick:
  description: Glucose finger stick (bedside monitoring)
  units: mg/dL
  min: 0
  max: 1000
  mimic_iv:
    - table: chartevents
      type: itemid
      itemid: [225664]
      value_col: valuenum
      time_col: charttime
