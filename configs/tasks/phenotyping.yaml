# Multi-label phenotyping task
# Classify which of 10 acute care conditions are present in a given ICU stay,
# based on discharge ICD diagnosis codes mapped via HCUP CCS groups.
#
# Follows the MIMIC-III benchmark (Harutyunyan et al. 2019) design but reduced
# to 10 labels. Labels are retrospective (based on full-stay discharge diagnoses).
#
# Each stay gets a binary vector of length 10 indicating presence/absence of
# each phenotype. The label builder reads ICD codes from the diagnoses table and
# maps them to CCS phenotype groups.

task_name: phenotyping
task_type: multilabel_classification

# Observation window: how much time-series data the model sees
observation_window_hours: 48  # Must match seq_length_hours in data config

# Prediction is retrospective (based on discharge diagnoses)
prediction_window_hours: -1  # Full stay
gap_hours: 0

# Data requirements
label_sources:
  - stays
  - diagnoses

label_params:
  phenotype_config: phenotypes/ccs_phenotypes.yaml
  exclude_multi_stay_admissions: true

# Evaluation metrics
primary_metric: auroc  # Macro-averaged across phenotypes
additional_metrics:
  - auprc

# Class information
n_classes: 10
class_names:
  - sepsis
  - respiratory_failure
  - acute_renal_failure
  - chf
  - shock
  - chronic_kidney_disease
  - diabetes
  - copd
  - pneumonia
  - coronary_atherosclerosis
